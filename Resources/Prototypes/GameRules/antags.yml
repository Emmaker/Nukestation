# Antag configs
- type: entity
  id: Ninja
  parent: BaseGameRule
  noSpawn: true
  components:
  - type: GenericAntagRule
    agentName: ninja-round-end-agent-name
    objectives:
    - StealResearchObjective
    - DoorjackObjective
    - SpiderChargeObjective
    - TerrorObjective
    - NinjaSurviveObjective
  - type: NinjaRule
    threats: NinjaThreats

- type: entity
  noSpawn: true
  parent: BaseGameRule
  id: Dragon
  components:
  - type: GenericAntagRule
    agentName: dragon-round-end-agent-name
    objectives:
    - CarpRiftsObjective
    - DragonSurviveObjective

- type: entity
  noSpawn: true
  parent: BaseGameRule
  id: Exterminator
  components:
  - type: GenericAntagRule
    agentName: terminator-round-end-agent-name
    objectives:
    - TerminateObjective
    - ShutDownObjective

# Antag events
- type: entity
  noSpawn: true
  parent: BaseGameRule
  id: Thief
  components:
  - type: GameRule
    minPlayers: 5
    earliestStart: 60
    reoccurrenceDelay: 60
    minimumPlayers: 15
    weight: 2
    duration: 1
  - type: ThiefRule
  - type: AntagSelection
    definitions:
    - prefRoles: [ Thief ]
      maxRange:
        min: 1
        max: 3
      playerRatio: 1
      allowNonHumans: true
      multiAntagSetting: All
      startingGear: ThiefGear
      components:
      - type: Pacified
      mindComponents:
      - type: ThiefRole
        prototype: Thief
      briefing:
        sound: "/Audio/Misc/thief_greeting.ogg"

- type: entity
  id: ZombieOutbreak
  parent: BaseGameRule
  noSpawn: true
  components:
  - type: StationEvent
    earliestStart: 60
    reoccurrenceDelay: 60
    minimumPlayers: 15
    weight: 2
    duration: 1
  - type: ZombieRule
  - type: AntagSelection
    definitions:
    - prefRoles: [ InitialInfected ]
      max: 3
      playerRatio: 10
      blacklist:
        components:
        - ZombieImmune
        - InitialInfectedExempt
      briefing:
        text: zombie-patientzero-role-greeting
        color: Plum
        sound: "/Audio/Ambience/Antag/zombie_start.ogg"
      components:
      - type: PendingZombie #less time to prepare than normal
        minInitialInfectedGrace: 300
        maxInitialInfectedGrace: 450
      - type: ZombifyOnDeath
      - type: IncurableZombie
      mindComponents:
      - type: InitialInfectedRole
        prototype: InitialInfected

- type: entity
  parent: BaseGameRule
  id: DragonSpawn
  noSpawn: true
  components:
  - type: StationEvent
    weight: 2
    duration: 1
    earliestStart: 45
    reoccurrenceDelay: 60
    minimumPlayers: 20
  - type: RandomSpawnRule
    prototype: SpawnPointGhostDragon

- type: entity
  parent: BaseGameRule
  id: NinjaSpawn
  noSpawn: true
  components:
  - type: StationEvent
    weight: 3
    duration: 1
    earliestStart: 45
    reoccurrenceDelay: 45
    minimumPlayers: 20
  - type: NinjaSpawnRule

# - type: entity # DeltaV - replaced terminator with paradox anomaly in midroundantag rule
#   parent: BaseGameRule
#   id: TerminatorSpawn
#   noSpawn: true
#   components:
#   - type: StationEvent
#     weight: 8
#     duration: 1
#     earliestStart: 30
#     minimumPlayers: 20
#   - type: RandomSpawnRule
#    prototype: SpawnPointGhostTerminator

- type: entity
  id: LoneOpsSpawn
  parent: BaseGameRule
  noSpawn: true
  components:
  - type: StationEvent
    earliestStart: 60
    weight: 3
    minimumPlayers: 15
    reoccurrenceDelay: 45
    duration: 1
  - type: LoadMapRule
    mapPath: /Maps/Shuttles/striker.yml
  - type: NukeopsRule
    roundEndBehavior: Nothing
  - type: AntagSelection
    definitions:
    - spawnerPrototype: SpawnPointLoneNukeOperative
      min: 1
      max: 1
      pickPlayer: false
      startingGear: SyndicateLoneOperativeGearFull
      components:
      - type: NukeOperative
      - type: RandomMetadata
        nameSegments:
        - SyndicateNamesPrefix
        - SyndicateNamesNormal
      - type: NpcFactionMember
        factions:
        - Syndicate
      mindComponents:
      - type: NukeopsRole
        prototype: Nukeops

- type: entity
  id: Nukeops
  parent: BaseGameRule
  noSpawn: true
  components:
  # Disabled until I can get it to work
  #- type: GameRule
  #  minPlayers: 35
  #- type: RandomMetadata #this generates the random operation name cuz it's cool.
  #  nameSegments:
  #  - operationPrefix
  #  - operationSuffix
  - type: NukeopsRule
  - type: LoadMapRule
    gameMap: NukieOutpost
  - type: AntagSelection
    definitions:
    - spawnerPrototype: SpawnPointGhostNukeOperative
      min: 1
      max: 1
      playerRatio: 10
      pickPlayer: false
      startingGear: SyndicateCommanderGearFull
      components:
      - type: NukeOperative
      - type: RandomMetadata
        nameSegments:
        - nukeops-role-commander
        - SyndicateNamesElite
      - type: NpcFactionMember
        factions:
        - Syndicate
      mindComponents:
      - type: NukeopsRole
        prototype: NukeopsCommander
    - spawnerPrototype: SpawnPointGhostNukeOperative
      min: 1
      max: 1
      playerRatio: 10
      pickPlayer: false
      startingGear: SyndicateOperativeMedicFull
      components:
      - type: NukeOperative
      - type: RandomMetadata
        nameSegments:
        - nukeops-role-agent
        - SyndicateNamesNormal
      - type: NpcFactionMember
        factions:
        - Syndicate
      mindComponents:
      - type: NukeopsRole
        prototype: NukeopsMedic
    - spawnerPrototype: SpawnPointGhostNukeOperative
      min: 0
      max: 3
      playerRatio: 10
      pickPlayer: false
      startingGear: SyndicateOperativeGearFull
      components:
      - type: NukeOperative
      - type: RandomMetadata
        nameSegments:
        - nukeops-role-operator
        - SyndicateNamesNormal
      - type: NpcFactionMember
        factions:
        - Syndicate
      mindComponents:
      - type: NukeopsRole
        prototype: Nukeops

- type: entity
  id: Traitor
  parent: BaseGameRule
  noSpawn: true
  components:
  - type: GameRule
    minPlayers: 5
    earliestStart: 60
    reoccurrenceDelay: 60
    minimumPlayers: 15
    weight: 2
    duration: 1
  - type: TraitorRule
  - type: AntagSelection
    definitions:
    - prefRoles: [ Traitor ]
      max: 12
      playerRatio: 10
      mindComponents:
      - type: TraitorRole
        prototype: Traitor

- type: entity
  id: Revolutionary
  parent: BaseGameRule
  noSpawn: true
  components:
  - type: GameRule
    minPlayers: 15
    earliestStart: 60
    reoccurrenceDelay: 60
    minimumPlayers: 15
    weight: 2
    duration: 1
  - type: RevolutionaryRule
  - type: AntagSelection
    definitions:
    - prefRoles: [ HeadRev ]
      max: 2
      playerRatio: 20 # WD
      briefing:
        text: head-rev-role-greeting
        color: CornflowerBlue
        sound: "/Audio/Ambience/Antag/headrev_start.ogg"
      startingGear: HeadRevGear
      components:
      - type: Revolutionary
      - type: HeadRevolutionary
      mindComponents:
      - type: RevolutionaryRole
        prototype: HeadRev